{"conceptual":"\n<!--  TODO: Break up to write / read? And maybe transclude-->\n<h2 id=\"writing-metadata\" sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"8\" sourceendlinenumber=\"8\">Writing Metadata</h2>\n<p sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"10\" sourceendlinenumber=\"10\">To update the metadata for a stream, issue a <code>POST</code> request to the metadata resource. This will replace the current metadata with the information posted.</p>\n<p sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"12\" sourceendlinenumber=\"12\">Inside a file named <em>metadata.txt</em>:</p>\n<pre sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"14\" sourceendlinenumber=\"25\"><code class=\"lang-json\">[\n    {\n        &quot;eventId&quot;: &quot;7c314750-05e1-439f-b2eb-f5b0e019be72&quot;,\n        &quot;eventType&quot;: &quot;$user-updated&quot;,\n        &quot;data&quot;: {\n            &quot;readRole&quot;: &quot;$all&quot;,\n            &quot;metaReadRole&quot;: &quot;$all&quot;\n        }\n    }\n]\n</code></pre><p sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"27\" sourceendlinenumber=\"27\">You can also add user-specified metadata here. Some examples of good uses of user-specified metadata:</p>\n<ul sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"29\" sourceendlinenumber=\"31\">\n<li sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"29\" sourceendlinenumber=\"29\">which adapter is responsible for populating a stream.</li>\n<li sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"30\" sourceendlinenumber=\"30\">which projection caused a stream to be created.</li>\n<li sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"31\" sourceendlinenumber=\"31\">a correlation ID of some business process.</li>\n</ul>\n<p sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"33\" sourceendlinenumber=\"33\">This information is then posted to the stream:</p>\n<div class=\"tabGroup\" id=\"tabgroup_vOpnT1zokb\" sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"35\" sourceendlinenumber=\"55\">\n<ul role=\"tablist\">\n<li role=\"presentation\">\n<a href=\"#tabpanel_vOpnT1zokb_tabid-7\" role=\"tab\" aria-controls=\"tabpanel_vOpnT1zokb_tabid-7\" data-tab=\"tabid-7\" tabindex=\"0\" aria-selected=\"true\" sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"35\" sourceendlinenumber=\"35\">Request</a>\n</li>\n<li role=\"presentation\">\n<a href=\"#tabpanel_vOpnT1zokb_tabid-8\" role=\"tab\" aria-controls=\"tabpanel_vOpnT1zokb_tabid-8\" data-tab=\"tabid-8\" tabindex=\"-1\" sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"41\" sourceendlinenumber=\"41\">Response</a>\n</li>\n</ul>\n<section id=\"tabpanel_vOpnT1zokb_tabid-7\" role=\"tabpanel\" data-tab=\"tabid-7\">\n<pre sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"37\" sourceendlinenumber=\"39\"><code class=\"lang-bash\">curl -i -d @metadata.txt http://127.0.0.1:2113/streams/$users/metadata --user admin:changeit -H &quot;Content-Type: application/vnd.eventstore.events+json&quot;\n</code></pre></section>\n<section id=\"tabpanel_vOpnT1zokb_tabid-8\" role=\"tabpanel\" data-tab=\"tabid-8\" aria-hidden=\"true\" hidden=\"hidden\">\n<pre sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"43\" sourceendlinenumber=\"53\"><code class=\"lang-http\">HTTP/1.1 201 Created\nContent-Length: 0\nContent-Type: text/plain; charset: utf-8\nLocation: http://127.0.0.1:2113/streams/%24%24%24users/1\nServer: Microsoft-HTTPAPI/2.0\nAccess-Control-Allow-Methods: GET, POST, GET, OPTIONS\nAccess-Control-Allow-Headers: Content-Type, X-Requested-With, X-PINGOTHER\nAccess-Control-Allow-Origin: *\nDate: Sun, 16 Jun 2013 14:50:21 GMT\n</code></pre></section>\n</div>\n<p sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"57\" sourceendlinenumber=\"57\">If the specified user does not have permissions to write to the stream metadata, you will receive a &#39;401 Unauthorized&#39; response:</p>\n<div class=\"tabGroup\" id=\"tabgroup_vOpnT1zokb-1\" sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"59\" sourceendlinenumber=\"78\">\n<ul role=\"tablist\">\n<li role=\"presentation\">\n<a href=\"#tabpanel_vOpnT1zokb-1_tabid-9\" role=\"tab\" aria-controls=\"tabpanel_vOpnT1zokb-1_tabid-9\" data-tab=\"tabid-9\" tabindex=\"0\" aria-selected=\"true\" sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"59\" sourceendlinenumber=\"59\">Request</a>\n</li>\n<li role=\"presentation\">\n<a href=\"#tabpanel_vOpnT1zokb-1_tabid-10\" role=\"tab\" aria-controls=\"tabpanel_vOpnT1zokb-1_tabid-10\" data-tab=\"tabid-10\" tabindex=\"-1\" sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"65\" sourceendlinenumber=\"65\">Response</a>\n</li>\n</ul>\n<section id=\"tabpanel_vOpnT1zokb-1_tabid-9\" role=\"tabpanel\" data-tab=\"tabid-9\">\n<pre sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"61\" sourceendlinenumber=\"63\"><code class=\"lang-bash\">curl -i -d @metadata.txt http://127.0.0.1:2113/streams/$users/metadata --user invaliduser:invalidpass -H &quot;Content-Type: application/vnd.eventstore.events+json&quot;\n</code></pre></section>\n<section id=\"tabpanel_vOpnT1zokb-1_tabid-10\" role=\"tabpanel\" data-tab=\"tabid-10\" aria-hidden=\"true\" hidden=\"hidden\">\n<pre sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"67\" sourceendlinenumber=\"76\"><code class=\"lang-http\">HTTP/1.1 401 Unauthorized\nContent-Length: 0\nServer: Microsoft-HTTPAPI/2.0\nAccess-Control-Allow-Methods:\nAccess-Control-Allow-Headers: Content-Type, X-Requested-With, X-PINGOTHER\nAccess-Control-Allow-Origin: *\nWWW-Authenticate: Basic realm=&quot;ES&quot;\nDate: Sun, 16 Jun 2013 14:51:37 GMT\n</code></pre></section>\n</div>\n","type":"Conceptual","source":{"remote":{"path":"http-api/update-stream-metadata.md","branch":"swagger-docfx","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0,"endLine":0,"isExternal":false},"path":"http-api/update-stream-metadata.md","documentation":{"remote":{"path":"http-api/update-stream-metadata.md","branch":"swagger-docfx","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0,"endLine":0,"isExternal":false},"_docfxVersion":"2.31.0.0","_systemKeys":["conceptual","type","source","path","documentation","title","rawTitle","wordCount"],"title":"Stream Metadata","rawTitle":"<h1 id=\"stream-metadata\" sourcefile=\"http-api/update-stream-metadata.md\" sourcestartlinenumber=\"4\" sourceendlinenumber=\"4\">Stream Metadata</h1>","uid":"eventstore.org/Event Store HTTP API/4.0.2/updateStreamMetadata","wordCount":202,"_lang":"csharp","_tocPath":"docs/toc.html","_rel":"../../","_path":"docs/http-api/update-stream-metadata.html","_key":"http-api/update-stream-metadata.md","_tocRel":"../toc.html","_tocKey":"~/toc.md","__global":{"classesInSubtitle":"Classes","structsInSubtitle":"Structs","interfacesInSubtitle":"Interfaces","enumsInSubtitle":"Enums","delegatesInSubtitle":"Delegates","constructorsInSubtitle":"Constructors","fieldsInSubtitle":"Fields","propertiesInSubtitle":"Properties","methodsInSubtitle":"Methods","eventsInSubtitle":"Events","operatorsInSubtitle":"Operators","eiisInSubtitle":"Explicit Interface Implementations","functionsInSubtitle":"Functions","membersInSubtitle":"Members","improveThisDoc":"Improve this Doc","viewSource":"View Source","inheritance":"Inheritance","inheritedMembers":"Inherited Members","namespace":"Namespace","assembly":"Assembly","syntax":"Syntax","overrides":"Overrides","implements":"Implements","remarks":"Remarks","examples":"Examples","seealso":"See Also","declaration":"Declaration","parameters":"Parameters","typeParameters":"Type Parameters","type":"Type","name":"Name","description":"Description","returns":"Returns","fieldValue":"Field Value","propertyValue":"Property Value","eventType":"Event Type","exceptions":"Exceptions","condition":"Condition","extensionMethods":"Extension Methods","note":"<h5>Note</h5>","warning":"<h5>Warning</h5>","tip":"<h5>Tip</h5>","important":"<h5>Important</h5>","caution":"<h5>Caution</h5>","_shared":{}}}