{"conceptual":"\n<p sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"3\" sourceendlinenumber=\"3\">When you delete events or streams in Event Store, they aren&#39;t removed immediately. To permenantly delete these events you will need to run a &#39;scavenge&#39; on your database.</p>\n<p sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"5\" sourceendlinenumber=\"5\">A scavenge reclaims disk space by rewriting your database chunks, minus the events to delete, and then deleting the old chunks. Once a scavenge has run, you cannot recover any deleted events.</p>\n<div class=\"NOTE\" sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"7\" sourceendlinenumber=\"7\"><h5>Note</h5><p sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"8\" sourceendlinenumber=\"8\">Scavenges only affect completed chunks, so deleted events in the current chunk will still be there after you run a scavenge.</p>\n</div>\n<h2 id=\"starting-a-scavenge\" sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"10\" sourceendlinenumber=\"10\">Starting a scavenge</h2>\n<p sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"12\" sourceendlinenumber=\"12\">Scavenges are not run automatically by Event Store. Our recommendation is that you set up a scheduled task, for example using cron or Windows Scheduler, to trigger a scavenge as often as you need.</p>\n<p sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"14\" sourceendlinenumber=\"14\">You can start a scavenge by issuing an empty <code>POST</code> to the HTTP API with the credentials of an <code>admin</code> or <code>ops</code> user :</p>\n<pre sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"16\" sourceendlinenumber=\"18\"><code class=\"lang-bash\">curl -i -d {} -X POST http://localhost:2113/admin/scavenge -u &quot;admin:changeit&quot;\n</code></pre><p sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"20\" sourceendlinenumber=\"20\">You can also start scavenges from the <em>Admin</em> page in the Admin UI.</p>\n<div class=\"TIP\" sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"22\" sourceendlinenumber=\"22\"><h5>Tip</h5><p sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"23\" sourceendlinenumber=\"23\">Each node in a cluster has its own independent database. As such, when you run a scavenge, you will need to issue a scavenge request to each node.</p>\n</div>\n<h2 id=\"how-often-should-you-run-a-scavenge\" sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"25\" sourceendlinenumber=\"25\">How often should you run a scavenge</h2>\n<p sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"27\" sourceendlinenumber=\"27\">This depends on the following:</p>\n<ul sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"29\" sourceendlinenumber=\"30\">\n<li sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"29\" sourceendlinenumber=\"29\">How often you delete streams.</li>\n<li sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"30\" sourceendlinenumber=\"30\">Depending on how you set <code>$maxAge</code>, <code>$maxCount</code> or <code>$tb</code> metadata on your streams.</li>\n</ul>\n<h2 id=\"scavenging-while-event-store-is-online\" sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"32\" sourceendlinenumber=\"32\">Scavenging while Event Store is online</h2>\n<p sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"34\" sourceendlinenumber=\"34\">It is safe to run a scavenge while Event Store is running and processing events, it is designed to be an online operation.</p>\n<p sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"36\" sourceendlinenumber=\"36\">Keep in mind that scavenging will increase the number of reads/writes made to your disk, and it is not recommended to run it when your system is under heavy load.</p>\n","type":"Conceptual","source":{"remote":{"path":"server/scavenging.md","branch":"swagger-docfx","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0,"endLine":0,"isExternal":false},"path":"server/scavenging.md","documentation":{"remote":{"path":"server/scavenging.md","branch":"swagger-docfx","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0,"endLine":0,"isExternal":false},"_docfxVersion":"2.31.0.0","_systemKeys":["conceptual","type","source","path","documentation","title","rawTitle","wordCount"],"title":"Scavenging events","rawTitle":"<h1 id=\"scavenging-events\" sourcefile=\"server/scavenging.md\" sourcestartlinenumber=\"1\" sourceendlinenumber=\"1\">Scavenging events</h1>","wordCount":282,"_lang":"csharp","_tocPath":"docs/toc.html","_rel":"../../","_path":"docs/server/scavenging.html","_key":"server/scavenging.md","_tocRel":"../toc.html","_tocKey":"~/toc.md","__global":{"classesInSubtitle":"Classes","structsInSubtitle":"Structs","interfacesInSubtitle":"Interfaces","enumsInSubtitle":"Enums","delegatesInSubtitle":"Delegates","constructorsInSubtitle":"Constructors","fieldsInSubtitle":"Fields","propertiesInSubtitle":"Properties","methodsInSubtitle":"Methods","eventsInSubtitle":"Events","operatorsInSubtitle":"Operators","eiisInSubtitle":"Explicit Interface Implementations","functionsInSubtitle":"Functions","membersInSubtitle":"Members","improveThisDoc":"Improve this Doc","viewSource":"View Source","inheritance":"Inheritance","inheritedMembers":"Inherited Members","namespace":"Namespace","assembly":"Assembly","syntax":"Syntax","overrides":"Overrides","implements":"Implements","remarks":"Remarks","examples":"Examples","seealso":"See Also","declaration":"Declaration","parameters":"Parameters","typeParameters":"Type Parameters","type":"Type","name":"Name","description":"Description","returns":"Returns","fieldValue":"Field Value","propertyValue":"Property Value","eventType":"Event Type","exceptions":"Exceptions","condition":"Condition","extensionMethods":"Extension Methods","note":"<h5>Note</h5>","warning":"<h5>Warning</h5>","tip":"<h5>Tip</h5>","important":"<h5>Important</h5>","caution":"<h5>Caution</h5>","_shared":{}}}