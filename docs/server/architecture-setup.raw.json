{"conceptual":"\n<!-- TODO: Is the title descrptive? -->\n<h2 id=\"authentication-options\" sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"4\" sourceendlinenumber=\"4\">Authentication Options</h2>\n<p sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"6\" sourceendlinenumber=\"6\">There are two main options for authentication with Event Store. You secure Event Store itself, or you can use per-stream <a href=\"~/server/access-control-lists.md\" data-raw-source=\"[Access Control Lists](../server/access-control-lists.md)\" sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"6\" sourceendlinenumber=\"6\">Access Control Lists</a> to give more fine-grained control on which users can access which data. You can also take a hybrid approach that mixes the two.</p>\n<h3 id=\"secure-event-store\" sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"8\" sourceendlinenumber=\"8\">Secure Event Store</h3>\n<p sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"10\" sourceendlinenumber=\"10\">To secure Event Store, you bind the server to the localhost (127.0.0.1) interface and then install a reverse proxy such as <a href=\"http://nginx.org\" data-raw-source=\"[nginx](http://nginx.org)\" sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"10\" sourceendlinenumber=\"10\">nginx</a> or <a href=\"https://www.varnish-cache.org\" data-raw-source=\"[Varnish](https://www.varnish-cache.org)\" sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"10\" sourceendlinenumber=\"10\">Varnish</a> on the public IP. You can find an example of setting up Event Store with Varnish <a href=\"~/server/setting-up-varnish-in-linux.md\" data-raw-source=\"[here](../server/setting-up-varnish-in-linux.md)\" sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"10\" sourceendlinenumber=\"10\">here</a>.</p>\n<p sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"12\" sourceendlinenumber=\"12\">The reverse proxy will be your public interface. Internally it will handle the authentication and route requests to Event Store. Event Store is only accessible through the localhost adapter and is not exposed publicly. The locally running reverse proxy will be allowed to cache responses, and because of this, reverse proxies will be more performant than calling Event Store directly.</p>\n<h3 id=\"secure-streams-with-acls\" sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"14\" sourceendlinenumber=\"14\">Secure Streams with ACLs</h3>\n<p sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"16\" sourceendlinenumber=\"16\">Event Store supports internal authentication, you can expose Event Store directly on a port, and Event Store handles all authentication.</p>\n<p sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"18\" sourceendlinenumber=\"18\">As Event Store is handling all security requests it will have all information about users. Event Store uses this information to check the Access Control Lists of streams and allows for fine-grained control of security. This will cause more internal requests served by Event Store and thus will be less performant.</p>\n<div class=\"NOTE\" sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"20\" sourceendlinenumber=\"20\"><h5>Note</h5><p sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"21\" sourceendlinenumber=\"21\">Per-stream access control lists require setting caching to private to ensure data is not cached in a shared cache, read <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9.1\" data-raw-source=\"[this article](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9.1)\" sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"21\" sourceendlinenumber=\"21\">this article</a> for more information</p>\n</div>\n<h3 id=\"hybrid-option\" sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"23\" sourceendlinenumber=\"23\">Hybrid Option</h3>\n<p sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"25\" sourceendlinenumber=\"25\">Even if you use a reverse proxy as above, you can support external authentication from Event Store itself. You do this by enabling the trusted intermediary option in your configuration. This allows the intermediary to write a header with the user information that Event Store will use. You can find how to do this in the <a href=\"~/http-api/optional-http-headers/index.md\" data-raw-source=\"[HTTP headers section](../http-api/optional-http-headers/index.md)\" sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"25\" sourceendlinenumber=\"25\">HTTP headers section</a>.</p>\n<h2 id=\"security-with-ssl\" sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"27\" sourceendlinenumber=\"27\">Security with SSL</h2>\n<h3 id=\"windows\" sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"29\" sourceendlinenumber=\"29\">Windows</h3>\n<p sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"31\" sourceendlinenumber=\"31\">Setting up SSL in Windows is the same as setting up any <code>httplistener</code> in Windows for SSL. You can find many examples of this can online, and we recommend <a href=\"http://developers.de/blogs/damir_dobric/archive/2006/08/01/897.aspx\" data-raw-source=\"[this guide from Damir Dobric](http://developers.de/blogs/damir_dobric/archive/2006/08/01/897.aspx)\" sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"31\" sourceendlinenumber=\"31\">this guide from Damir Dobric</a></p>\n<h3 id=\"linux\" sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"33\" sourceendlinenumber=\"33\">Linux</h3>\n<p sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"35\" sourceendlinenumber=\"35\">Setting up SSL in Linux is the same as setting up any mono <code>httplistener</code> in Linux for SSL. You can find many examples of this can online, and we recommend <a href=\"http://joshua.perina.com/geo/post/using-ssl-https-with-mono-httplistener\" data-raw-source=\"[this guide from Joshua Perina](http://joshua.perina.com/geo/post/using-ssl-https-with-mono-httplistener)\" sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"35\" sourceendlinenumber=\"35\">this guide from Joshua Perina</a>. This method will likely work for other systems such as OpenBSD as well.</p>\n","type":"Conceptual","source":{"remote":{"path":"server/architecture-setup.md","branch":"swagger-docfx","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0,"endLine":0,"isExternal":false},"path":"server/architecture-setup.md","documentation":{"remote":{"path":"server/architecture-setup.md","branch":"swagger-docfx","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0,"endLine":0,"isExternal":false},"_docfxVersion":"2.31.0.0","_systemKeys":["conceptual","type","source","path","documentation","title","rawTitle","wordCount"],"title":"HTTP Architecture Setup","rawTitle":"<h1 id=\"http-architecture-setup\" sourcefile=\"server/architecture-setup.md\" sourcestartlinenumber=\"1\" sourceendlinenumber=\"1\">HTTP Architecture Setup</h1>","wordCount":408,"_lang":"csharp","_tocPath":"docs/toc.html","_rel":"../../","_path":"docs/server/architecture-setup.html","_key":"server/architecture-setup.md","_tocRel":"../toc.html","_tocKey":"~/toc.md","__global":{"classesInSubtitle":"Classes","structsInSubtitle":"Structs","interfacesInSubtitle":"Interfaces","enumsInSubtitle":"Enums","delegatesInSubtitle":"Delegates","constructorsInSubtitle":"Constructors","fieldsInSubtitle":"Fields","propertiesInSubtitle":"Properties","methodsInSubtitle":"Methods","eventsInSubtitle":"Events","operatorsInSubtitle":"Operators","eiisInSubtitle":"Explicit Interface Implementations","functionsInSubtitle":"Functions","membersInSubtitle":"Members","improveThisDoc":"Improve this Doc","viewSource":"View Source","inheritance":"Inheritance","inheritedMembers":"Inherited Members","namespace":"Namespace","assembly":"Assembly","syntax":"Syntax","overrides":"Overrides","implements":"Implements","remarks":"Remarks","examples":"Examples","seealso":"See Also","declaration":"Declaration","parameters":"Parameters","typeParameters":"Type Parameters","type":"Type","name":"Name","description":"Description","returns":"Returns","fieldValue":"Field Value","propertyValue":"Property Value","eventType":"Event Type","exceptions":"Exceptions","condition":"Condition","extensionMethods":"Extension Methods","note":"<h5>Note</h5>","warning":"<h5>Warning</h5>","tip":"<h5>Tip</h5>","important":"<h5>Important</h5>","caution":"<h5>Caution</h5>","_shared":{}}}